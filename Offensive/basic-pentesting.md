# Basic Pentesting ğŸ’»

**Platform**: [TryHackMe](https://tryhackme.com)  
**Room Link**: https://tryhackme.com/room/basicpentestingjt  
**Difficulty**: Easy  
**Tags**: `#enum`, `#web`, `#ssh`, `#priv-esc`, `#linux`, `#suid`  
**Date Completed**: March 2025  
**Author**: [CyDieLia](https://github.com/CediLia)

---

## ğŸ“Œ Room Overview

- **Goal**: Enumerate, gain access to a vulnerable Linux system, escalate privileges to root.
- **Skills Practiced**: Service enumeration, SSH brute force, Linux privilege escalation, SUID abuse.
- **Tools Used**:  
  `nmap`, `gobuster`, `hydra`, `john`, `ssh`, `linpeas`, `strings`

---

## ğŸ§­ Target Info

| Field       | Value               |
|-------------|---------------------|
| Target IP   | `10.10.10.27`        |
| OS          | Linux               |
| Services    | 22 (SSH), 80 (HTTP) |
| Notes       | Web server leads to credential discovery; privilege escalation is SUID-based

---

## ğŸ“š Summary â€“ Attack Flow

| ğŸ§© Phase           | ğŸ’¡ Technique Used                                                   |
|--------------------|---------------------------------------------------------------------|
| ğŸ” Enumeration     | `nmap`, `gobuster`, manual web recon                                 |
| ğŸ”‘ Initial Access  | SSH login via cracked credentials from `backup.zip`                 |
| âš™ï¸ Privilege Esc.  | Exploited SUID binary `/usr/bin/secret` to get a root shell         |
| ğŸ› ï¸ Tools Used      | `hydra`, `john`, `linpeas`, `ssh`, `strings`                         |

> ğŸ§  **Key Takeaway**: A `.zip` file and a quiet SUID binary were all it took â€” *this room is a perfect reminder to enumerate smarter, not harder.*

---

## ğŸ” Enumeration

### ğŸ”¹ Nmap Scan
``nmap -sC -sV -oN basicpentesting-nmap.txt 10.10.10.27``

Discovered:
ğŸ”¸22/tcp â€” OpenSSH 7.6p1

ğŸ”¸80/tcp â€” Apache httpd 2.4.29

ğŸ”¹ Web Recon

Visited http://10.10.10.27 in browser â†’ default Apache page.

### Used gobuster for directory fuzzing:
``gobuster dir -u http://10.10.10.27 -w /usr/share/wordlists/dirb/common.txt -x php,txt,zip```

## Results:
ğŸ”¸/development/
ğŸ”¸/backup.zip

## ğŸ”‘ Initial Access
ğŸ”¸ Downloaded /backup.zip

Extracted and found a password-protected shadow file.
ğŸ”¸ Cracked Hash with John
``john --wordlist=/usr/share/wordlists/rockyou.txt shadow.hash``

### Recovered credentials:
ğŸ”¸user: user
ğŸ”¸pass: qwertyuiop
ğŸ”¸ Gained SSH Access

```ssh user@10.10.10.27```


# âš™ï¸ Privilege Escalation
ğŸ”¸ Local Enumeration with LinPEAS

## Transferred linpeas.sh using scp:
``scp linpeas.sh user@10.10.10.27:/tmp``

### Executed:
``chmod +x linpeas.sh && ./linpeas.sh``

### Findings:
ğŸ”¸SUID binary found: /usr/bin/secret
ğŸ”¸ Manual Inspection
``strings /usr/bin/secret``

Discovered the binary calls /bin/bash â€” classic misconfigured SUID.
ğŸ”¸ Root Access Gained
``/usr/bin/secret
whoami
# root``

---

## ğŸ§  Lessons Learned

| ğŸ’­ Concept             | ğŸ’¡ What I Took Away                                                         |
|------------------------|---------------------------------------------------------------------------|
| File Looting ğŸ—‚ï¸        | `.zip` archives might hide critical credentials or clues                  |
| SUID Exploitation âš™ï¸   | Always analyze SUID binaries with `strings`, `ltrace`, or manual execution |
| Wordlist Power ğŸ’¥      | `rockyou.txt` cracks weak hashes like magic                               |
| Full Chain Practice â›“ï¸ | End-to-end flow: Web âœ Creds âœ Shell âœ Root                               |
| Writeups Matter âœï¸     | Documenting each step locked the entire attack chain in memory            |

> ğŸ““ _â€œBackups are for recoveryâ€¦ or root access.â€_ â€” cyber goblin

---

## ğŸ“ References

- [TryHackMe Room â€“ Basic Pentesting](https://tryhackme.com/room/basicpentestingjt)
- [GTFOBins â€“ SUID Binaries](https://gtfobins.github.io/)
- [HackTricks â€“ Privilege Escalation](https://book.hacktricks.xyz/linux-hardening/privilege-escalation)
- [PayloadsAllTheThings](https://github.com/swisskyrepo/PayloadsAllTheThings)
- [John the Ripper](https://www.openwall.com/john/)
- [Linux SUID Exploits](https://www.hackingarticles.in/linux-privilege-escalation-using-suid-binaries/)

<details>
  <summary>ğŸ’¬ Extra Notes / Struggles Faced</summary>

- Originally overlooked `/development/` because I didn't filter `.zip` in Gobuster.
- Forgot to try `strings` until after running LinPEAS â€” next time: check SUIDs manually too.
- This room reinforced the importance of attacking the **entire chain**, not just the first shell.

</details>

