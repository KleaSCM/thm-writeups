# Basic Pentesting 💻

**Platform**: [TryHackMe](https://tryhackme.com)  
**Room Link**: https://tryhackme.com/room/basicpentestingjt  
**Difficulty**: Easy  
**Tags**: `#enum`, `#web`, `#ssh`, `#priv-esc`, `#linux`, `#suid`  
**Date Completed**: March 2025  
**Author**: [CyDieLia](https://github.com/CediLia)

---

## 📌 Room Overview

- **Goal**: Enumerate, gain access to a vulnerable Linux system, escalate privileges to root.
- **Skills Practiced**: Service enumeration, SSH brute force, Linux privilege escalation, SUID abuse.
- **Tools Used**:  
  `nmap`, `gobuster`, `hydra`, `john`, `ssh`, `linpeas`, `strings`

---

## 🧭 Target Info

| Field       | Value               |
|-------------|---------------------|
| Target IP   | `10.10.10.27`        |
| OS          | Linux               |
| Services    | 22 (SSH), 80 (HTTP) |
| Notes       | Web server leads to credential discovery; privilege escalation is SUID-based

---

## 📚 Summary – Attack Flow

| 🧩 Phase           | 💡 Technique Used                                                   |
|--------------------|---------------------------------------------------------------------|
| 🔍 Enumeration     | `nmap`, `gobuster`, manual web recon                                 |
| 🔑 Initial Access  | SSH login via cracked credentials from `backup.zip`                 |
| ⚙️ Privilege Esc.  | Exploited SUID binary `/usr/bin/secret` to get a root shell         |
| 🛠️ Tools Used      | `hydra`, `john`, `linpeas`, `ssh`, `strings`                         |

> 🧠 **Key Takeaway**: A `.zip` file and a quiet SUID binary were all it took — *this room is a perfect reminder to enumerate smarter, not harder.*

---

## 🔍 Enumeration

### 🔹 Nmap Scan
``nmap -sC -sV -oN basicpentesting-nmap.txt 10.10.10.27``

Discovered:
🔸22/tcp — OpenSSH 7.6p1

🔸80/tcp — Apache httpd 2.4.29

🔹 Web Recon

Visited http://10.10.10.27 in browser → default Apache page.

### Used gobuster for directory fuzzing:
``gobuster dir -u http://10.10.10.27 -w /usr/share/wordlists/dirb/common.txt -x php,txt,zip```

## Results:
🔸/development/
🔸/backup.zip

## 🔑 Initial Access
🔸 Downloaded /backup.zip

Extracted and found a password-protected shadow file.
🔸 Cracked Hash with John
``john --wordlist=/usr/share/wordlists/rockyou.txt shadow.hash``

### Recovered credentials:
🔸user: user
🔸pass: qwertyuiop
🔸 Gained SSH Access

```ssh user@10.10.10.27```


# ⚙️ Privilege Escalation
🔸 Local Enumeration with LinPEAS

## Transferred linpeas.sh using scp:
``scp linpeas.sh user@10.10.10.27:/tmp``

### Executed:
``chmod +x linpeas.sh && ./linpeas.sh``

### Findings:
🔸SUID binary found: /usr/bin/secret
🔸 Manual Inspection
``strings /usr/bin/secret``

Discovered the binary calls /bin/bash — classic misconfigured SUID.
🔸 Root Access Gained
``/usr/bin/secret
whoami
# root``

---

## 🧠 Lessons Learned

| 💭 Concept             | 💡 What I Took Away                                                         |
|------------------------|---------------------------------------------------------------------------|
| File Looting 🗂️        | `.zip` archives might hide critical credentials or clues                  |
| SUID Exploitation ⚙️   | Always analyze SUID binaries with `strings`, `ltrace`, or manual execution |
| Wordlist Power 💥      | `rockyou.txt` cracks weak hashes like magic                               |
| Full Chain Practice ⛓️ | End-to-end flow: Web ➜ Creds ➜ Shell ➜ Root                               |
| Writeups Matter ✍️     | Documenting each step locked the entire attack chain in memory            |

> 📓 _“Backups are for recovery… or root access.”_ — cyber goblin

---

## 📎 References

- [TryHackMe Room – Basic Pentesting](https://tryhackme.com/room/basicpentestingjt)
- [GTFOBins – SUID Binaries](https://gtfobins.github.io/)
- [HackTricks – Privilege Escalation](https://book.hacktricks.xyz/linux-hardening/privilege-escalation)
- [PayloadsAllTheThings](https://github.com/swisskyrepo/PayloadsAllTheThings)
- [John the Ripper](https://www.openwall.com/john/)
- [Linux SUID Exploits](https://www.hackingarticles.in/linux-privilege-escalation-using-suid-binaries/)

<details>
  <summary>💬 Extra Notes / Struggles Faced</summary>

- Originally overlooked `/development/` because I didn't filter `.zip` in Gobuster.
- Forgot to try `strings` until after running LinPEAS — next time: check SUIDs manually too.
- This room reinforced the importance of attacking the **entire chain**, not just the first shell.

</details>

